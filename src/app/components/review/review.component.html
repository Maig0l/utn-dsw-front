<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

</head>
<body>
    <header>
        <h1>Reseñas de Videojuegos</h1>
    </header>
    <main>
        <!--Información del juego seleccionado -->
        <ng-container *ngIf="game">
            <section class="selected-game">
                <div class="game-info">
                    <img src= {{game.portrait}} alt="Imagen del videojuego" class="game-image">
                    <div class="game-details">
                        <h2 class="game-title">{{game.title}}</h2>
                        @for (studio of game.studios; track studio.id){
                        <p class="game-developer">{{studio.name}}</p>}
<!--                            @for (platform of game.platforms; track platform.id){
                    <p class="game-platform">{{platform.name}}</p>}-->
                        <img *ngFor="let platform of game.platforms" src="{{platform.img}}" class="platform-logo" width="50" height="50">
                        <h2 class="game-synopsis">{{game.synopsis}}</h2>

                    </div>
                </div>
            </section>
        </ng-container>
   
        <!--Formulario para escribir una nueva reseña -->
        <section class="write-review">
            <h3>Write your review</h3>
            <form [formGroup]="reviewForm" (submit)="addReview()">

                <label for="review-title">Title:</label>
                <input type="text" id="review-title" formControlName="title" placeholder="Title of your review...">
                <label for="review-text">Review:</label>
                <textarea id="review-text" rows="4" formControlName="body" placeholder="I think this game was.."></textarea>

                <label for="review-rating">Rating:</label>
                <select id="review-rating" formControlName="score">
                    <option value=5>★★★★★</option>
                    <option value=4>★★★★☆</option>
                    <option value=3>★★★☆☆</option>
                    <option value=2>★★☆☆☆</option>
                    <option value=1>★☆☆☆☆</option>
                </select>
                <p>Selected Rating: {{ reviewForm.get('score')?.value }}</p>

                <button type="submit" class="primary">Publicar Reseña</button>
            
            </form>
        </section >

        <!--Lista de reseñas de otros usuarios -->
        <section class="review-list">
            <h3>Reseñas de Otros Usuarios</h3>
            <div class="review-card">
                <p class="review-text">Esta es una reseña de ejemplo. ¡Este juego es increíble!</p>
                <p class="review-rating">Puntuación: ★★★★☆</p>
            </div>
            <div class="review-card">
                <p class="review-text">Es un buen juego, aunque tiene algunos errores menores.</p>
                <p class="review-rating">Puntuación: ★★★☆☆</p>
            </div>
            @for (review of game.reviews; track review.id){
            <div class="review-card">
                <p class="review-title">{{review.title}}</p>
                <p class="review-text">{{review.body}}</p>
                <p class="review-rating">Puntuación: {{review.score}}</p>
                <div id="review-rating">
                    
                  </div>
            </div>}
            
            <!-- Más reseñas pueden añadirse aquí-->
        </section >
  
 </main>
</body>
</html>