<main>
  <section class="selected-game">
    <img
      src="{{ game.banner }}"
      alt="Banner del videojuego"
      class="game-banner"
    />

    <div class="game-info">
      <img
        src="{{ game.portrait }}"
        alt="Imagen del videojuego"
        class="game-portrait"
      />
      <div class="game-details">
        <h1 class="game-title">{{ game.title }}</h1>

        <h2 class="game-synopsis">Synopsis: (estilizar)</h2>
        <h3 class="game-synopsis">{{ game.synopsis }}</h3>
        <div class="studio-container">
          <!-- esto podría ponerse a la derecha a la misma altura-->
          <div class="studio-column">
            <p class="game-developer">Developer/s:</p>
            <ng-container *ngFor="let studio of game.studios">
              <ng-container *ngIf="studio.type !== 'Publisher'">
                <p class="game-developer">{{ studio.name }}</p>
              </ng-container>
            </ng-container>
          </div>
          <div class="studio-column">
            <p class="game-publisher">Publisher/s:</p>
            <ng-container *ngFor="let studio of game.studios">
              <ng-container *ngIf="studio.type !== 'Developer'">
                <p class="game-publisher">{{ studio.name }}</p>
              </ng-container>
            </ng-container>
          </div>
        </div>
        <ng-container *ngFor="let platform of game.platforms">
          <img src="{{ platform.img }}" class="platform-logo" />
        </ng-container>
      </div>
    </div>
    <a href="edit-game/{{ game.id }}" class="edit-button">Edit</a>

    <section class="game-images" *ngIf="game.pictures.length != 0">
      <h2>IMAGES</h2>
      <div class="slider">
        <div>
          <div (click)="goToPrevious()" class="leftArrow">❰</div>
          <div (click)="goToNext()" class="rightArrow">❱</div>
        </div>
        <img class="slide" alt="carrusel image" [src]="getCurrentSlideUrl()" />
        <div class="dotsContainer">
          <div
            *ngFor="let slide of game.pictures; let slideIndex = index"
            class="dot"
            (click)="goToSlide(slideIndex)"
          >
            ●
          </div>
        </div>
      </div>
    </section>

    <!-- TODO: @If(usuarioEstáLogueado) { <app-review-form></app-review-form> } -->
    <app-review-form [game]="this.game">
    </app-review-form>

    <!-- TODO: Sacar la lista de reviews del componente review-form y ponerlas acá en un @for -->
  </section>
</main>
