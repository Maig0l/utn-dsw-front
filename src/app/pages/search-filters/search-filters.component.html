<h1>Filters</h1>
<section class="filters">
  <div style="position: relative; width: 300px;" class="filter">
    <input
      type="text"
      [value]="inputValue"
      (input)="onInput($event)"
      (focus)="showDropdown = true"
      (blur)="onBlur()"
      style="width: 100%; padding: 8px; box-sizing: border-box;"
    />
  
    <ul
      *ngIf="showDropdown && filteredOptions.length > 0"
      style="position: absolute; top: 100%; left: 0; right: 0; max-height: 200px; overflow-y: auto;  padding: 0; margin: 0; list-style: none; z-index: 10; color: white"
    >
      <li
        *ngFor="let option of filteredOptions"
        (mousedown)="selectOption(option)"
        style="padding: 8px; cursor: pointer; color: black"
        [style.background]="option === hoveredOption ? '#f0f0f0' : 'white'"
        (mouseenter)="hoveredOption = option"
      >
        {{ option }}
      
      </li>

    </ul>
  </div>

    <mat-form-field class="filter">
      <mat-label>Platforms</mat-label>
      <mat-select [(value)]="platformSelected" multiple>
        @for (platform of platformOptions; track platform) {
          <mat-option [value]="platform">{{ platform.name }}</mat-option>
        }
      </mat-select>
    </mat-form-field>

</section>

<button (click)="filter_options( inputValue )">Add</button>



<section class="features">
  <h2>Games</h2>
    <div class="container">
        @if (filter){
          @for (game of filterGames; track game.id) {
            <div class="card">
            <app-view-game [game]="game"></app-view-game>
          </div>
          }
        }
        @else{
        @for (game of Games; track game.id) {
          <div class="card">
            <app-view-game [game]="game"></app-view-game>
          </div>
          }
        }
    </div>
  </section>